### git 分享

在进行git操作的时候我们需要知道什么是git，它的原理具体是什么，以及我们使用的git的工作流

本地仓库由git维护的三颗“树”组成，第一个是“工作目录”，它持有实际文件；第二个是“暂存区”，它类似于缓存区域，临时保存你的改动；最后是“HEAD”，它指向你最后一次提交的结果

#### git 撤销、回滚操作
---
```
git reset HEAD filename
# 从暂存区移除特定文件，但不改变工作目录。它会取消这个文件的缓存，而不覆盖任何更改

git reset
# 重置暂存区，匹配最近的一次提交，但工作目录不变。它会取消所有文件的暂存，而不会覆盖任何修改，可以重设暂存快照

git reset --hard
# 加上--hard标记后会告诉git要重置缓存区和工作目录的更改，就是说：先将你的暂存区清除掉，然后将你所有未暂存的更改都清除掉，所以在使用前确定你想扔掉所有的本地工作

git reset <commit>
# 将当前分支的指针HEAD移到 ，将缓存区重设到这个提交，但不改变工作目录。所有 之后的更改会保留在工作目录中，这允许你用更干净、原子性的快照重新提交项目历史

git reset --hard <commit>
# 将当前分支的指针HEAD移到 ，将缓存区和工作目录都重设到这个提交。它不仅清除了未提交的更改，同时还清除了 之后的所有提交
```
git reset 通过取消缓存或者取消一系列提交的操作会摒弃一些你当前工作目录上的更改

---
git revert被用来撤销一个已经提交的快照。但实现上和reset是完全不同的。通过搞清楚如何撤销这个提交引入的更改，然后在最后加上一个撤销了更改的 新 提交，而不是从项目历史中移除这个提交。

```
git revert <commit>
```

场景一：
> 误将代码 commit 到本地仓库，但没有进行push操作

场景二：
> 已经push到远程仓库，但并未上线

场景三：
> 代码已经上线


#### 更新代码
---
git fetch是将远程主机的最新内容拉到本地，用户在检查了以后决定是否合并到工作本机分支中。

而git pull 则是将远程主机的最新内容拉下来后直接合并，即：git pull = git fetch + git merge，这样可能会产生冲突，需要手动解决。

#### git同时连接gitlab和github
---
